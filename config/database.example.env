# IAC Database Configuration Example
# Copy this file to .env and configure for your environment

# ============================================
# Primary Relational Database Configuration
# ============================================
# Database Type: mysql, postgres, mssql, oracle
DB_TYPE=mysql
DB_HOST=localhost
DB_PORT=3306
DB_DATABASE=iac
DB_USERNAME=root
DB_PASSWORD=your_password_here

# SSL Configuration (optional)
DB_SSL_MODE=disable
# DB_SSL_CERT=/path/to/cert.pem
# DB_SSL_KEY=/path/to/key.pem
# DB_SSL_ROOT_CERT=/path/to/ca.pem

# Connection Pool Settings
DB_MAX_IDLE_CONNS=5
DB_MAX_OPEN_CONNS=10
DB_CONN_MAX_LIFETIME=3600
DB_CONN_MAX_IDLE_TIME=600
DB_CONN_TIMEOUT=30

# ============================================
# Replica Databases (Read Replicas)
# ============================================
DB_REPLICA_COUNT=2

# Replica 1
DB_REPLICA_1_TYPE=mysql
DB_REPLICA_1_HOST=replica1.example.com
DB_REPLICA_1_PORT=3306
DB_REPLICA_1_DATABASE=iac
DB_REPLICA_1_USERNAME=readonly
DB_REPLICA_1_PASSWORD=replica_password

# Replica 2
DB_REPLICA_2_TYPE=mysql
DB_REPLICA_2_HOST=replica2.example.com
DB_REPLICA_2_PORT=3306
DB_REPLICA_2_DATABASE=iac
DB_REPLICA_2_USERNAME=readonly
DB_REPLICA_2_PASSWORD=replica_password

# ============================================
# Document Database Configuration
# ============================================
# Document DB Type: mongodb, postgres (for JSONB)
DOCDB_TYPE=mongodb
DOCDB_HOST=localhost
DOCDB_PORT=27017
DOCDB_DATABASE=iac
DOCDB_USERNAME=admin
DOCDB_PASSWORD=doc_password

# MongoDB Specific
DOCDB_AUTH_SOURCE=admin
DOCDB_REPLICA_SET=

# Connection Pool Settings
DOCDB_MAX_POOL_SIZE=100
DOCDB_MIN_POOL_SIZE=10
DOCDB_CONN_TIMEOUT=30

# ============================================
# Alternative: PostgreSQL as Document Store
# ============================================
# DOCDB_TYPE=postgres
# DOCDB_HOST=localhost
# DOCDB_PORT=5432
# DOCDB_DATABASE=iac_docs
# DOCDB_USERNAME=postgres
# DOCDB_PASSWORD=postgres_password
# DOCDB_SSL_MODE=disable

# ============================================
# Database Feature Flags
# ============================================
# Enable query logging and metrics
DB_ENABLE_METRICS=true
DB_SLOW_QUERY_THRESHOLD=1000  # milliseconds

# Enable health checks
DB_ENABLE_HEALTH_CHECKS=true
DB_HEALTH_CHECK_INTERVAL=30  # seconds

# ============================================
# Multiple Database Environments
# ============================================

# For testing with different databases:
#
# MySQL Configuration:
# DB_TYPE=mysql
# DB_HOST=localhost
# DB_PORT=3306
#
# PostgreSQL Configuration:
# DB_TYPE=postgres
# DB_HOST=localhost
# DB_PORT=5432
#
# MSSQL Configuration:
# DB_TYPE=mssql
# DB_HOST=localhost
# DB_PORT=1433
#
# Oracle Configuration:
# DB_TYPE=oracle
# DB_HOST=localhost
# DB_PORT=1521
